<html>

<head>
    <title>Minesweeper</title>
    <p id="myScore"></p>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <script src="jquery-3.1.1.min.js"></script>
    <script type="text/javascript">
        // Afbeeldingen Declareren
        i1 = new Image();
        i1 = "ssmine.gif";
        i4 = new Image();
        i4 = "nomine2.gif"
        i2 = new Image();
        i2 = "nomine1.gif";
        i3 = new Image();
        i3 = "mine.gif";
        aantal = 64;
        var test;
        var images = ["nomine1.gif","nomine2.gif"];
        var mijnen;
        images.push("nomine1.gif","nomine2.gif");
        score = 0;

        // Met de functie aantalMines bepaalt de speler via een window prompt hoeveel mijnen er op zijn veld geplaatst moeten worden. Ten eerste wordt er bekeken of je geen foute waarde hebt ingevoegd, else zullen de mijnen via een Math.random, random om het veld geplaatst worden.
        function aantalMines() {
            minesArray = Array();
            mijnen = window.prompt("Hoeveel Mines wil je op je veld?", "");
            if (mijnen == 0 || mijnen >= aantal) {
                alert("Foute waarde ingevoerd, gelieve opnieuw");
                aantalMines();
            }
            else {
                for (i=0; i =< mijnen; i++) {
                    randomNum = randomNumber(1, aantal);
                    
                    if ((jQuery.inArray(randomNum, minesArray)) == -1) {
                        minesArray = minesArray + randomNum;
                    }
                    else {
                        randomNum2 = randomNumber(1, aantal);
                        if ((jQuery.inArray(randomNum2, minesArray)) == -1) {
                            minesArray = minesArray + randomNum2;
                        }
                    }
                }
            }
        }

        function playGame(num) {
            myScore();

            if ((jQuery.inArray(num, minesArray)) == -1) {
                alert("Num = " + num + " || Mines = " + minesArray);
                var randomNum = Math.floor((Math.random() * 8) + 1);
                test = true;
            } 
            else {
                document.images[num].src = "mine.gif";
                test = false;
                alert("Boom, verloren !");
                showMines();
            }

            if (test && randomNum >= 1  && randomNum <= 5) {
                score++;
                myScore();
                document.images[num].src = "nomine1.gif";
            }
            else if(test && randomNum >= 6 && randomNum <= 8) {
                score++;
                score++;
                myScore();
                document.images[num].src = "nomine2.gif";
            }
            else if (test == false && score > 0) {
                alert("Uw hebt : " + score + " punten");
            }
            else window.status = "Error, u hebt nog geen score behaald !";
        }

        function randomNumber(lowest, highest){
            var adjustedHigh = (highest - lowest) + 1;       
            return Math.floor(Math.random()*adjustedHigh) + parseFloat(lowest);
        }

        function retry() {
            mijnen = 0;
            minesArray = 0;
            test = null;
            score = 0;
            for (i = 0; i < aantal; i++) {
                document.images[i].src = "ssmine.gif";
            }
            window.status = "Spel werd gereset !";
            alert("U kan het spel opnieuw starten!");
        }

        function showMines() {
            for (i = 0; i < mijnen; i++) {
                document.images[i].src = "mine.gif";
            }
        }

        function myScore(){
          document.getElementById("myScore").innerHTML = "Score : " + score 
        }
       
    </script>
</head>

<body bgcolor="lightblue">
    <h3 align="center">Minesweeper</h3>
    <hr width="75%" />
    <table align="center" border="1" bgcolor="black">
        <tr>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(0);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(1);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(2);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(3);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(4);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(5);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(6);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(7);" /></td>
        </tr>
        <tr>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(8);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(9);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(10);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(11);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(12);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(13);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(14);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(15);" /></td>
        </tr>
        <tr>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(16);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(17);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(18);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(19);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(20);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(21);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(22);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(23);" /></td>
        </tr>
        <tr>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(24);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(25);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(26);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(27);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(28);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(29);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(30);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(31);" /></td>
        </tr>
        <tr>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(32);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(33);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(34);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(35);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(36);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(37);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(38);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(39);" /></td>
        </tr>
        <tr>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(40);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(41);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(42);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(43);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(44);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(45);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(46);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(47);" /></td>
        </tr>
        <tr>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(48);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(49);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(50);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(51);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(52);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(53);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(54);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(55);" /></td>
        </tr>
        <tr>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(56);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(57);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(58);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(59);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(60);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(61);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(62);" /></td>
            <td><img src="ssmine.gif" width="20" height="20" onClick="playGame(63);" /></td>
        </tr>
    </table>
    <br />
    <center>
        <form>
            <button type="button" onClick='aantalMines();'>Play Minesweeper</button>
            <p></p>
            <button type="button" onClick='retry();'>Opnieuw proberen?</button>
            <p></p>
        </form>
    </center>
</body>

</html>